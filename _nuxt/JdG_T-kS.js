import{u as U}from"./0ZarKj85.js";import{_ as G,u as H,C as J,r as f,K as j,g as m,v as c,x as t,z as i,A as u,D as s,H as B,F as P,E as V,t as p,B as b,y as A}from"./Ds0kjeUA.js";import{u as Q}from"./D2-IT20U.js";import"./8TPwjKdS.js";const W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEg0lEQVR4nO2aX2iXVRjHP5u1P9UmLUfTIsliZd3ovFEZmKAXRYLQn2GCzJswFHKZqCDyQw288UIhml0oWoYUXUQ3oVSIa5EIZpqLiVKSpRbqmqjT6eTA84Onw/vnvH9+7++37f3CYfz2nvO85/me837Pc55zIEeOHDly5MiRI0eOHDlyZIoG4E1gMVDPOMEEYAGwDxgERqTcAD4HFgEPMMZQDbQDO4BLymm/8i+wS9pUMYrxIlAAzjo47Vd+B7YBzzFKMBXYAJyM6Gg38D7wc0Cdo8BqoIUKw6PAMuAQcC/mSJuZUsR0+X3Gp+5doAd4G2gsl9N1IlhGuIYSTHEvAjRmhWjHTeBrGYCHslDwdhGo/1Jw2oWAsNVDl6vyfJHUTw2zZBT+TtnpKARomJjhDRn52z72/pQ+mwGLjWeAX0vodFwCNB4H3gV+CrB9SsQ5EqqA7zNyPgkBGq8AF33sfxbV2FsZOp+EgCZZDXocVqD5UWL0C6rhXuBj4EqFENAgqv8NMOxj7x/gQ+CA9Sk86PKC7arReeAR+X+tKKxR2usVuAoUl0QjkDXSzsQJf6k674U5/4KlrK/51Jsoo2BeeKeMccCwCorMzPDCclXfLN9PBBHwnap8EDdMESXuSYmAsEhwRFandY5hsRH0w6rtfr+KS1SlW0Ar0fE8sDnGBshlL/AbsAl4Nka/Zii9MGL5kl2hQYKH4su2khzF6eu3NI1kvDXeac2g/wmiLXwPkx60gLmE0Do54qTajvAVxOmW8K2ndDDELgWOeDj+LdBR4vTYB5YgtiB7bLszp4GNwNMl6sgXHu/cXaJ3tYqo9nu8sxOJk70eFgXjB2AlMCmlDi207BcjOPN3bkrvaHHYI5wDnoyStxuWpMcyFRxFhQlQ+pTNT4BP1e9fEiRFXXaJTvpSA7wK/BjA3qB0/uWIHd6gbAwAk6UMqP+vimCvRpw5IM759df48npUfSkoA5clFeVl/JIsMbND7D1lhdBd6lmXldgw21w/VMls/UiWSa8+3ZU+F3+vieK4FwEFCSHDIr4/ArK4XwZsTMwsOqGe7/EJ010iRFNnmtX/VAjAI1ztdwhXJ1vC57c1bbcEcV4E0o12zbTslZQAPR3nyCcQJJ4DLrG4PCvWu+bw2c0JiBAzIcAvaaodHomwG2sRx2MreDkJ0KiXqO4rK21ugq4w6MBsSGzEiRDLSoCdtuoUJ1zRIW1M27ioGALKhZwAKnwG1EveYYsctY07AlYq+++MRwIKGdrPCSAhg4X0ByifAYXR9AkcAtpGEQFt0udEBKwNyBWa7WalETBN+nbao98r4hicaqWvdDHb1V7J3jSXkYBm6UNvwOlwX5KLVdUqV3g5wflcmgS45P6uyDnEgjTvGtY6nA57ndCmQUDc0+GSodHhdDhsFFwICDteizv7UsVjDrc0znukrQoJToePSaqs4i5NtjrkCo/LSXC3x+nw8YB2aa5Amd0V3mYdSEYtqVx3KzeqHXKFulxTFx7H3NX5Op8rtreyvPJaKWiS+zvGaXPnqCy4D3kC61C7gtNJAAAAAElFTkSuQmCC",Z={class:"p-2 md:px-10 md:py-5 w-[90%] md:w-[80%] lg:w-[50%] mx-auto grid gap-4"},$={class:"text-end"},ee={class:"flex items-center justify-between"},te={class:"flex items-center gap-5"},se={key:0,class:"grid gap-4 grid-cols-2"},le={key:0,class:"text-center empty-wrap p-5 sm:p-10"},oe={class:"center-center mb-5"},ae=["src"],ne={key:1,class:"grid gap-4"},re={class:"grid grid-cols-10 gap-5 pb-2"},ie={class:"w-[40px] h-[40px] rounded-md bg-zinc-300 center-center col-span-1"},de=["src"],ue={class:"col-span-9 flex items-center justify-between"},ce={class:"font-medium mb-0"},pe={class:"text-yellow-700"},ge={class:"flex items-center justify-between gap-5 border-t-2 pt-2"},me={class:""},ve={class:"text-rose-700"},fe=["onClick"],Ae={class:"text-center my-5 w-full"},we={class:"mb-7"},Ce={class:"fixed right-[20px] bottom-[20px]"},_e={__name:"list",setup(xe){const h=H(),{orderList:n,succes_failure:be,orderID:he,selectedOrder:Y}=J(U()),{totalItems:F,formatPrice:E}=Q(),w=f(JSON.parse(JSON.stringify(n.value)));console.log(w.value);const O=o=>o=="paid"?"green":o=="unpaid"?"red":o=="pending"?"yellow":"gray",D=f(!1),S=f(!0);j(S,o=>{o?n.value.sort((e,a)=>e.transaction.localeCompare(a.transaction)):n.value.sort((e,a)=>a.transaction.localeCompare(e.transaction))});function K(){return D.value=!1,n.value.sort((o,e)=>o.id-e.id)}const C=f(!1),_=f(!1),r=f({status:"",date:[]});function M(){if(_.value=!0,C.value=!1,r.value.status)return _.value=!1,n.value=n.value.filter(o=>o.transaction==r.value.status);if(r.value.date.length){_.value=!1;const o=new Date(r.value.date[0]).getTime(),e=new Date(r.value.date[1]).getTime();return console.log(o,"start"),orders.filter(a=>{let v=new Date(a.date).getTime();return v>=o&&v<=e})}}function R(){return r.value.date=[],r.value.status="",n.value=w.value}const g=f({current:1,pageSize:5,total:n.value.length,last:"",totalPages:1});function z(o,e,a){const v=o.length,y=Math.ceil(v/a),x=(e-1)*a,k=o.slice(x,x+a);return{currentPage:e,totalPages:y,items:k}}async function q(o,e){n.value=w.value,g.value.current=1,g.value.pageSize=e;const a=z(n.value,o,e);g.value.current=a.currentPage,g.value.totalPages=a.totalPages,n.value=a.items}async function L(o,e){n.value=w.value;const a=z(w.value,o,e);g.value.current=a.currentPage,g.value.totalPages=a.totalPages,n.value=a.items}return(o,e)=>{const a=m("a-tag"),v=m("a-tooltip"),y=m("a-card"),x=m("a-badge-ribbon"),k=m("a-pagination"),I=m("a-select"),N=m("a-range-picker"),X=m("a-button"),T=m("a-drawer");return p(),c("section",Z,[t("div",$,[i(a,{bordered:!0,color:"warning",class:"py-1 h-auto cursor-pointer",onClick:e[0]||(e[0]=l=>s(h).push("/"))},{default:u(()=>e[10]||(e[10]=[b("Containue shopping")])),_:1})]),t("div",ee,[e[11]||(e[11]=t("h3",{class:"text-2xl font-bold"},"Order List",-1)),t("div",te,[t("div",null,[s(D)?(p(),c("span",{key:0,class:"text-sm text-rose-500 cursor-pointer underline",onClick:K},"Remove sort")):B("",!0),s(r).status.length||s(r).date.length?(p(),c("span",{key:1,class:"text-sm text-rose-500 cursor-pointer underline",onClick:R},"Clear filter ")):B("",!0)]),s(n).length?(p(),c("div",se,[i(v,{placement:"topLeft",title:"Sort by order status"},{default:u(()=>[t("i",{class:"fi fi-rr-apps-sort inline-flex cursor-pointer text-red-800 text-lg",onClick:e[1]||(e[1]=()=>{S.value=!s(S),D.value=!0})})]),_:1}),i(v,{placement:"topLeft",title:"Filter"},{default:u(()=>[t("i",{class:"fi fi-rr-settings-sliders inline-flex text-yellow-900 text-lg cursor-pointer",onClick:e[2]||(e[2]=l=>C.value=!0)})]),_:1})])):B("",!0)])]),s(n).length?(p(),c("div",ne,[(p(!0),c(P,null,V(s(n),l=>(p(),c("div",{key:l.id},[i(x,{text:l.transaction,color:O(l.transaction)},{default:u(()=>[i(y,{size:"small",class:"shadow-md"},{title:u(()=>[i(v,{placement:"topLeft",title:"Order details"},{default:u(()=>[t("span",{class:"cursor-pointer",onClick:()=>{s(h).push("/order/details"),Y.value=l}}," Order #"+A(l.id),9,fe)]),_:2},1024)]),default:u(()=>[(p(!0),c(P,null,V(l.order_details,d=>(p(),c("div",{key:d.id},[t("div",re,[t("div",ie,[t("img",{src:d.image,alt:"product",class:"w-100 aspect-square"},null,8,de)]),t("div",ue,[t("h6",ce,A(d.title),1),t("h6",pe,A(s(E)(d.price))+" x "+A(d.count)+" "+A(d.count>1?"items":"item"),1)])])]))),128)),t("div",ge,[t("h6",me,[e[13]||(e[13]=t("span",{class:"font-semibold"}," Order price : ",-1)),t("span",ve,A(s(E)(l.order_price)),1)]),t("h6",null,[e[14]||(e[14]=t("span",{class:"font-semibold"}," Order Count : ",-1)),i(a,{color:"red"},{default:u(()=>[b(A(s(F)(l.order_details)),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1032,["text","color"])]))),128)),t("div",Ae,[i(k,{current:s(g).current,pageSize:s(g).pageSize,"show-size-changer":"",total:s(g).total,onShowSizeChange:q,pageSizeOptions:[1,3,5,7,9,11],onChange:L,"show-total":(l,d)=>`${d[0]}-${d[1]} of ${l} items`},null,8,["current","pageSize","total","show-total"])])])):(p(),c("div",le,[t("div",null,[t("div",oe,[t("img",{src:s(W),class:"aspect-square"},null,8,ae)]),e[12]||(e[12]=t("h4",{class:"text-lg font-semibold"},"Order List is empty",-1)),t("span",{class:"font-semibold text-lg underline cursor-pointer",onClick:e[3]||(e[3]=()=>{s(h).push("/")})},"Back to list")])])),i(T,{title:"Filter",size:300,open:s(C),onClose:e[9]||(e[9]=l=>C.value=!1)},{default:u(()=>[t("div",we,[e[15]||(e[15]=t("label",{class:"block font-semibold mb-2"},"Order status",-1)),i(I,{placeholder:"Please select order status",ref:"select",modelValue:s(r).status,"onUpdate:modelValue":e[4]||(e[4]=l=>s(r).status=l),style:{width:"100%"},options:[{value:"paid",label:"Paid"},{value:"unpaid",label:"Unpaid"},{value:"pending",label:"Pending"}],onSelect:e[5]||(e[5]=l=>{s(r).status=l})},null,8,["modelValue"])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block font-semibold mb-2"},"Order date",-1)),i(N,{placeholder:"Please select date",format:"DD-MM-YYYY",onChange:e[6]||(e[6]=(l,d)=>{s(r).date=d}),modelValue:s(r).date,"onUpdate:modelValue":e[7]||(e[7]=l=>s(r).date=l),class:"w-full"},null,8,["modelValue"])]),t("div",Ce,[i(X,{size:"large",style:{"margin-right":"8px"},onClick:e[8]||(e[8]=l=>C.value=!1)},{default:u(()=>e[17]||(e[17]=[b("Cancel")])),_:1}),i(X,{loading:s(_),size:"large",class:"bg-slate-800 text-white hover:bg-white hover:!text-slate-800 hover:!border-slate-800",onClick:M},{default:u(()=>e[18]||(e[18]=[b("Apply filter")])),_:1},8,["loading"])])]),_:1},8,["open"])])}}},Be=G(_e,[["__scopeId","data-v-05e7ce42"]]);export{Be as default};
